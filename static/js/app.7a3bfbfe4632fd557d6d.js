webpackJsonp([1],{"0+Z+":function(t,e,a){"use strict";var s=a("p1vQ");e.a={components:{UserList:s.a},data:function(){return{users:[]}},beforeCreate:function(){var t=this;this.$http.get("slack-users").then(function(e){var a=e.data;t.users=a}).catch(function(t){return console.error(t)})}}},"2Se8":function(t,e,a){"use strict";function s(t){a("bPr0")}var n=a("kIy4"),r=a("P+C0"),i=a("VU/8"),o=s,u=i(n.a,r.a,!1,o,"data-v-1faa87ab",null);e.a=u.exports},"53Hq":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"sign-container"},[a("div",{staticClass:"sign-container-inner"},[a("form",{attrs:{action:"/signup"},on:{submit:function(e){return e.preventDefault(),t.onSubmit(e)}}},[t.error?a("div",{staticClass:"error"},[t._v(t._s(t.error))]):t._e(),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"login-username"}},[t._v("Username")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model.trim:value",value:t.userData.username,expression:"userData.username",modifiers:{"trim:value":!0}}],attrs:{type:"text",id:"login-username"},domProps:{value:t.userData.username},on:{input:function(e){e.target.composing||t.$set(t.userData,"username",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"login-password"}},[t._v("Password")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model.trim:value",value:t.userData.password,expression:"userData.password",modifiers:{"trim:value":!0}}],attrs:{type:"password",id:"login-password"},domProps:{value:t.userData.password},on:{input:function(e){e.target.composing||t.$set(t.userData,"password",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"login-password-retype"}}),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model.trim:value",value:t.userData.retypedPassword,expression:"userData.retypedPassword",modifiers:{"trim:value":!0}}],attrs:{type:"password",id:"login-password-retype",placeholder:"Confirm password"},domProps:{value:t.userData.retypedPassword},on:{input:function(e){e.target.composing||t.$set(t.userData,"retypedPassword",e.target.value)}}}),t._v(" "),t.passwordsData.entered?a("div",{staticClass:"confirm-password-match-marker",class:{confirmed:t.passwordsData.match,denied:!t.passwordsData.match}}):t._e()]),t._v(" "),a("div",{staticClass:"form-buttons"},[a("input",{attrs:{type:"submit",value:"Sign up",disabled:!t.passwordsData.entered&&!t.passwordsData.match}}),t._v(" "),a("span",{staticClass:"sign-up"},[t._v("Already signed up? "),a("router-link",{attrs:{to:"/unauth/signin"}},[t._v("Log In")])],1)])])])])},n=[],r={render:s,staticRenderFns:n};e.a=r},"6Ilm":function(t,e){},"6wMu":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"user-list-container"},[a("h1",{staticClass:"user-list-title"},[t._v("Users")]),t._v(" "),a("ul",{staticClass:"user-list"},t._l(t.users,function(e,s){return a("li",{staticClass:"user-item"},[a("router-link",{attrs:{to:"/admin/user/"+e._id}},[t._v("\n        "+t._s(e.username)+"\n        "),e.verified?t._e():a("span",{staticClass:"user-unverified-flag"},[t._v(" (unverified)")]),t._v(" "),a("span",{staticClass:"view-user"},[t._v("View User Details")])])],1)}),0),t._v(" "),a("div",{staticClass:"user-count"},[t._v(t._s(t.userCount))])])},n=[],r={render:s,staticRenderFns:n};e.a=r},"8Tw+":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"admin-container"},[a("div",{staticClass:"button-group"},[a("button",{on:{click:function(e){return e.preventDefault(),t.getNewApiKey(e)}}},[t._v("Generate New API Key")])]),t._v(" "),a("router-link",{attrs:{to:"/admin/load-users-slack"}},[t._v("Update Users from Slack")]),t._v(" "),t.statusMessage?a("div",{staticClass:"status-message"},[t._v(t._s(t.statusMessage))]):t._e(),t._v(" "),a("user-list",{attrs:{users:t.users}})],1)},n=[],r={render:s,staticRenderFns:n};e.a=r},"8iB3":function(t,e,a){"use strict";var s=a("kJ1h");e.a={components:{UserList:s.a},data:function(){return{users:[]}},beforeCreate:function(){var t=this;this.$http.get("unverified-users").then(function(e){var a=e.data;t.users=a})}}},"9aF2":function(t,e,a){"use strict";function s(t){a("eYE2")}var n=a("lMps"),r=a("QMK1"),i=a("VU/8"),o=s,u=i(n.a,r.a,!1,o,"data-v-7c44d5b9",null);e.a=u.exports},Bx03:function(t,e,a){"use strict";var s=a("dVzy");e.a={components:{TeamChannelList:s.a},data:function(){return{statusMessage:"",teams:[]}},beforeCreate:function(){var t=this;this.$http.get("slack-channels").then(function(e){var a=e.data;t.formatData(a),t.teams=a})},methods:{formatData:function(t){t.map(function(t){console.log(t)})}}}},C8us:function(t,e,a){"use strict";var s=a("kJ1h");e.a={components:{UserList:s.a},data:function(){return{statusMessage:"",users:[]}},beforeCreate:function(){var t=this;this.$http.get("users").then(function(e){var a=e.data;console.log(a),t.users=a})},methods:{updateSlackDB:function(){var t=this;this.$http.post("loadDBSlack").then(function(e){setTimeout(function(){t.statusMessage=""},3e3),200===e.status?t.statusMessage="Slack DB Updated Successfully.":t.statusMessage="There was an error updating the DB from Slack. Please check the logs."})},getNewApiKey:function(){var t=this;this.$http.get("createApiKey").then(function(e){setTimeout(function(){t.statusMessage=""},3e3),t.statusMessage=e.data})}}}},CCk5:function(t,e,a){"use strict";var s=a("woOf"),n=a.n(s);e.a={name:"User",data:function(){return{originalData:{_id:"",firstName:"",lastName:"",slackName:"",slackId:"",email:"",imageURI:""},newData:{_id:"",firstName:"",lastName:"",slackName:"",slackId:"",email:"",imageURI:"",newImage:""}}},beforeCreate:function(){var t=this;this.slackId=this.$route.params.id;var e="slack-users?slackId=^"+this.slackId+"$";this.$http.get(e).then(function(e){var a=e.data[0];n()(t.originalData,a),n()(t.newData,a)}).catch(function(t){console.error(t)})},methods:{imageChange:function(t){var e=this,a=t.target.files[0],s=new FileReader;s.onload=function(t){e.newData.newImage=t.target.result},s.readAsDataURL(a)},updateUser:function(t){var e=this,a="slack-users?^"+this.slackId+"$";this.$http.patch(a,this.newData).then(function(t){var a=t.data;a.imageURI=a.imageURI+"?"+Date.now(),n()(e.originalData,a),n()(e.newData,a),e.newData.newImage=""}).catch(function(t){console.error(t)})},deleteUser:function(t){var e="slack-users?slackId="+this.slackId;this.$http.delete(e).then(function(t){location.href=location.origin}).catch(function(t){console.error(t)})}}}},CQsD:function(t,e){},Cwk8:function(t,e,a){"use strict";var s=a("Zrlr"),n=a.n(s),r=a("wxAW"),i=a.n(r),o=function(){function t(){n()(this,t)}return i()(t,[{key:"createCookie",value:function(t,e,a){var s="";if(a){var n=new Date;n.setTime(n.getTime()+a),s="expires="+n.toUTCString()}document.cookie=t+"="+e+";"+s+";path=/;"}},{key:"readCookie",value:function(t){for(var e=t+"=",a=document.cookie.split(";"),s=0;s<a.length;s++){for(var n=a[s];" "===n.charAt(0);)n=n.substring(1,n.length);if(0===n.indexOf(e))return n.substring(e.length,n.length)}return null}},{key:"eraseCookie",value:function(t){this.createCookie(t,"",-1)}}]),t}();e.a=new o},D4RC:function(t,e,a){"use strict";e.a={data:function(){return{userData:{username:"",password:"",retypedPassword:"",admin:""},error:"",passwordsData:{entered:!1,match:!1}}},computed:{retypedPassword:function(){return this.userData.retypedPassword}},watch:{retypedPassword:function(){var t=this;setTimeout(function(){return""===t.userData.retypedPassword||""===t.userData.password?void(t.passwordsData.entered=!1):(t.passwordsData.entered=!0,t.userData.retypedPassword===t.userData.password?void(t.passwordsData.match=!0):void(t.passwordsData.match=!1))},300)}},methods:{onSubmit:function(t){return this.userData.password!==this.userData.retypedPassword?(this.userData.password=this.userData.retypedPassword="",void(this.error="Passwords don't match")):this.userData.username?void this.$http.signUp(this.userData):(this.userData.username=this.userData.password=this.userData.retypedPassword="",void(this.error="Username not entered"))}}}},EMYa:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"unverified-users-container"},[a("user-list",{attrs:{users:t.users}})],1)},n=[],r={render:s,staticRenderFns:n};e.a=r},EN9M:function(t,e,a){"use strict";function s(t){a("Gjb6")}var n=a("bQd7"),r=a("ScY8"),i=a("VU/8"),o=s,u=i(n.a,r.a,!1,o,null,null);e.a=u.exports},Fs8J:function(t,e,a){"use strict";var s=a("p1vQ"),n=void 0;e.a={components:{UserList:s.a},data:function(){return{users:[],searchInput:""}},watch:{searchInput:function(t){var e=this;n&&clearTimeout(n),n=setTimeout(function(){if(!t)return void(e.users=[]);var a="slack-users-fuzzy?firstName=^"+t;e.$http.get(a).then(function(t){var a=t.data.directMatches,s=t.data.nearMatches;e.users=a.concat(s)}).catch(function(t){console.error(t)})},300)}}}},GbCz:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"user-detail-container"},[a("h1",{staticClass:"user"},[t._v(t._s(t.originalData.firstName)+" "+t._s(t.originalData.lastName)+" ("+t._s(t.originalData.slackName)+")")]),t._v(" "),a("h2",{staticClass:"slack-id"},[t._v(t._s(t.originalData.slackId))]),t._v(" "),a("form",{attrs:{action:"#"},on:{submit:function(e){return e.preventDefault(),t.updateUser(e)}}},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"user-first-name"}},[t._v("First Name")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model.trim:value",value:t.newData.firstName,expression:"newData.firstName",modifiers:{"trim:value":!0}}],attrs:{type:"text",id:"user-first-name"},domProps:{value:t.newData.firstName},on:{input:function(e){e.target.composing||t.$set(t.newData,"firstName",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"user-last-name"}},[t._v("Last Name")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model:value",value:t.newData.lastName,expression:"newData.lastName",arg:"value"}],attrs:{type:"text",id:"user-last-name"},domProps:{value:t.newData.lastName},on:{input:function(e){e.target.composing||t.$set(t.newData,"lastName",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"user-slack-name"}},[t._v("Slack Name")]),t._v(" "),a("input",{attrs:{type:"text",id:"user-slack-name",disabled:"disabled"},domProps:{value:t.newData.slackName}})]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"user-email"}},[t._v("Email")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model:value",value:t.newData.email,expression:"newData.email",arg:"value"}],attrs:{type:"text",id:"user-email"},domProps:{value:t.newData.email},on:{input:function(e){e.target.composing||t.$set(t.newData,"email",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-group image"},[a("label",{attrs:{for:"user-image"}},[t._v("Image")]),t._v(" "),a("div",{staticClass:"image-input-container"},[t.originalData.imageURI&&!t.newData.newImage?a("img",{attrs:{src:t.originalData.imageURI,alt:""}}):t._e(),t._v(" "),t.newData.newImage?a("img",{attrs:{src:t.newData.newImage,alt:""}}):t._e(),t._v(" "),a("input",{attrs:{type:"file",accept:"image/*",id:"user-image"},on:{change:function(e){return t.imageChange(e)}}})])]),t._v(" "),a("div",{staticClass:"form-button-container"},[a("input",{attrs:{type:"submit",value:"Update User"}}),t._v(" "),a("button",{staticClass:"secondary",on:{click:function(e){return e.preventDefault(),t.deleteUser(e)}}},[t._v("Delete User")])])])])},n=[],r={render:s,staticRenderFns:n};e.a=r},Gjb6:function(t,e){},HVLY:function(t,e){},LIKK:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"user-list-container"},[a("ul",{staticClass:"user-items"},t._l(t.users,function(e,s){return a("li",{staticClass:"user-item"},[a("router-link",{attrs:{to:"/user/"+e.slackId}},[a("div",{staticClass:"user-name"},[t._v(t._s(e.firstName)+" "+t._s(e.lastName)+" "),a("span",{staticClass:"view-user"},[t._v("View User Details")])])])],1)}),0),t._v(" "),t.users.length>0?a("div",{staticClass:"user-count"},[t._v(t._s(t.userCount))]):t._e()])},n=[],r={render:s,staticRenderFns:n};e.a=r},LvSJ:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"load-users-slack-container"},[a("team-channel-list",{attrs:{teams:t.teams}})],1)},n=[],r={render:s,staticRenderFns:n};e.a=r},M93x:function(t,e,a){"use strict";function s(t){a("zhr4")}var n=a("xJD8"),r=a("jw2j"),i=a("VU/8"),o=s,u=i(n.a,r.a,!1,o,null,null);e.a=u.exports},NEQn:function(t,e,a){"use strict";function s(t){a("CQsD")}var n=a("8iB3"),r=a("EMYa"),i=a("VU/8"),o=s,u=i(n.a,r.a,!1,o,"data-v-1a4a114d",null);e.a=u.exports},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("7+uW"),n=a("M93x"),r=a("YaEn"),i=a("Rf8U"),o=a.n(i),u=a("pgXI");s.a.use(o.a,new u.a),s.a.config.productionTip=!1;var c=a("v+Ra"),l={state:{admin:0,loggedIn:0},setAdmin:function(t){this.state.admin=t},setLoggedIn:function(t){this.state.loggedIn=t}};new s.a({el:"#app",router:r.a,data:l,template:"<App/>",mixins:[c],components:{App:n.a}})},OoMl:function(t,e,a){"use strict";e.a={props:["users"],computed:{userCount:function(){var t=this.users.length;return"Found "+t+" user"+(0===t||t>1?"s":"")}}}},OtA2:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement;return(t._self._c||e)("user-list",{attrs:{users:t.users}})},n=[],r={render:s,staticRenderFns:n};e.a=r},"P+C0":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nav",{staticClass:"global-navigation"},[a("div",{staticClass:"nav-bar-container"},[a("div",{staticClass:"nav-bar-container-inner"},[a("ul",{staticClass:"nav-items primary"},t._l(t.navItems,function(e){return!e.admin||e.admin&&t.$root.state.admin?a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-item-link",attrs:{to:e.uri}},[t._v(t._s(e.displayName))])],1):t._e()}),0),t._v(" "),a("ul",{staticClass:"nav-items utility"},[t.$root.state.loggedIn?a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-item-link",attrs:{to:"/logout"},on:{click:function(e){return e.preventDefault(),t.logOut(e)}}},[t._v("Log Out")])]):t._e()])])])])},n=[],r={render:s,staticRenderFns:n};e.a=r},QMK1:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"user-container"},[a("h1",{staticClass:"user"},[t._v(t._s(t.originalData.username))]),t._v(" "),a("h2",{staticClass:"id"},[t._v(t._s(t.originalData._id))]),t._v(" "),a("form",{attrs:{action:"#"},on:{submit:function(e){return e.preventDefault(),t.updateUser(e)}}},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"user-username"}},[t._v("Username")]),t._v(" "),a("input",{attrs:{type:"text",id:"user-username",disabled:"disabled"},domProps:{value:t.newData.username}})]),t._v(" "),t.$root.state.admin&&t.originalData.verified?a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"user-admin"}},[t._v("Admin")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.newData.admin,expression:"newData.admin"}],attrs:{type:"checkbox",id:"user-admin"},domProps:{checked:Array.isArray(t.newData.admin)?t._i(t.newData.admin,null)>-1:t.newData.admin},on:{change:function(e){var a=t.newData.admin,s=e.target,n=!!s.checked;if(Array.isArray(a)){var r=t._i(a,null);s.checked?r<0&&t.$set(t.newData,"admin",a.concat([null])):r>-1&&t.$set(t.newData,"admin",a.slice(0,r).concat(a.slice(r+1)))}else t.$set(t.newData,"admin",n)}}})]):t._e(),t._v(" "),t.originalData.verified?a("div",{staticClass:"verified-user-buttons"},[a("input",{attrs:{type:"submit",value:"Update User"}}),t._v(" "),a("button",{on:{click:function(e){return e.preventDefault(),t.deleteUser(e)}}},[t._v("Delete User")])]):a("div",{staticClass:"unverified-user-buttons"},[a("button",{on:{click:function(e){return e.preventDefault(),t.verifyUser(e)}}},[t._v("Verify User")])])])])},n=[],r={render:s,staticRenderFns:n};e.a=r},QTFw:function(t,e){},R5WW:function(t,e,a){"use strict";function s(t){a("USfr")}var n=a("0+Z+"),r=a("OtA2"),i=a("VU/8"),o=s,u=i(n.a,r.a,!1,o,"data-v-969d2eba",null);e.a=u.exports},ScY8:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"sign-container"},[a("div",{staticClass:"sign-container-inner"},[a("form",{attrs:{action:"/signin"},on:{submit:function(e){return e.preventDefault(),t.onSubmit(e)}}},[t.error?a("div",{staticClass:"error"},[t._v(t._s(t.error))]):t._e(),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"login-username"}},[t._v("Username")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model.trim:value",value:t.userData.username,expression:"userData.username",modifiers:{"trim:value":!0}}],attrs:{type:"text",id:"login-username"},domProps:{value:t.userData.username},on:{input:function(e){e.target.composing||t.$set(t.userData,"username",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"login-password"}},[t._v("Password")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model.trim:value",value:t.userData.password,expression:"userData.password",modifiers:{"trim:value":!0}}],attrs:{type:"password",id:"login-password"},domProps:{value:t.userData.password},on:{input:function(e){e.target.composing||t.$set(t.userData,"password",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-buttons"},[a("input",{attrs:{type:"submit",value:"Sign in"}}),t._v(" "),a("span",{staticClass:"sign"},[t._v("Don't have an account? "),a("router-link",{attrs:{to:"/unauth/signup"}},[t._v("Sign Up")])],1)])])])])},n=[],r={render:s,staticRenderFns:n};e.a=r},SdD7:function(t,e){},ShqD:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"not-found"},[t._v("404")])},n=[],r={render:s,staticRenderFns:n};e.a=r},SxXo:function(t,e,a){"use strict";function s(t){a("zmkN")}var n=a("CCk5"),r=a("GbCz"),i=a("VU/8"),o=s,u=i(n.a,r.a,!1,o,"data-v-0b0a0a70",null);e.a=u.exports},USfr:function(t,e){},YaEn:function(t,e,a){"use strict";var s=a("7+uW"),n=a("/ocq"),r=a("lO7g"),i=a("SxXo"),o=a("zOUs"),u=a("pZlX"),c=a("EN9M"),l=a("oMO9"),d=a("9aF2"),v=a("NEQn"),m=a("R5WW"),f=a("jQho");s.a.use(n.a),e.a=new n.a({mode:"history",routes:[{path:"*",component:o.default},{path:"/",name:"Home",component:r.a},{path:"/unauth/signup",component:u.a},{path:"/unauth/signin",component:c.a},{path:"/user/:id",name:"User",component:i.a},{path:"/all-users",name:"All User List",component:m.a},{path:"/admin",name:"Admin",component:l.a},{path:"/admin/user/:id",name:"Admin User",component:d.a},{path:"/admin/unverified-users",name:"Unverified Users",component:v.a},{path:"/admin/load-users-slack",name:"Load Users from Slack",component:f.a}]})},"aH/O":function(t,e){},bPr0:function(t,e){},bQd7:function(t,e,a){"use strict";e.a={data:function(){return{userData:{username:"",password:""},error:this.$route.query.error}},methods:{onSubmit:function(t){var e=this;if(this.userData.username||(this.userData.username=this.userData.retypedPassword="",this.error="Username not entered"),!this.userData.password)return this.userData.password="",void(this.error="Password not entered");this.$http.logIn(this.userData).then(function(t){e.error=t})}}}},cLU6:function(t,e){},dVzy:function(t,e,a){"use strict";function s(t){a("SdD7")}var n=a("wV8L"),r=a("e+67"),i=a("VU/8"),o=s,u=i(n.a,r.a,!1,o,"data-v-528baf08",null);e.a=u.exports},"e+67":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"team-channel-list-container"},[a("h1",{staticClass:"team-title"},[t._v("Teams")]),t._v(" "),a("div",{staticClass:"button-group"},[a("button",{attrs:{id:"load-from-slack"},on:{click:t.loadFromSlack}},[t._v("Load from Slack")]),t._v(" "),t.statusMessage?a("div",{staticClass:"status-message"},[t._v(t._s(t.statusMessage))]):t._e()]),t._v(" "),a("ul",{staticClass:"team-list"},t._l(t.teams,function(e,s){return a("li",{staticClass:"team-item"},[a("div",{staticClass:"team-toggle-channels",on:{click:t.toggleChannels}},[t._v("+")]),t._v(" "),a("label",{attrs:{for:"checkbox-team-"+e.id}},[a("input",{attrs:{type:"checkbox",id:"checkbox-team-"+e.id},domProps:{value:e.id,checked:e.checked},on:{change:t.onTeamChecked}}),t._v("\n        "+t._s(e.name)+"\n      ")]),t._v(" "),a("ul",{staticClass:"team-channel-list hidden"},t._l(e.channels,function(s,n){return a("li",{staticClass:"channel-item"},[a("label",{attrs:{for:"checkbox-channel-"+s.id}},[a("input",{attrs:{type:"checkbox",id:"checkbox-channel-"+s.id,"data-team-id":e.id,disabled:e.checked},domProps:{value:s.id,checked:s.checked},on:{change:t.onChannelChecked}}),t._v("\n            "+t._s(s.name)+"\n          ")])])}),0)])}),0)])},n=[],r={render:s,staticRenderFns:n};e.a=r},eYE2:function(t,e){},issJ:function(t,e,a){"use strict";e.a={name:"user-list",props:["users"],computed:{userCount:function(){var t=this.users.length;return"Found "+t+" user"+(t>1?"s":"")}}}},j2gz:function(t,e){},jQho:function(t,e,a){"use strict";function s(t){a("6Ilm")}var n=a("Bx03"),r=a("LvSJ"),i=a("VU/8"),o=s,u=i(n.a,r.a,!1,o,"data-v-024ba5a2",null);e.a=u.exports},jw2j:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("navigation"),t._v(" "),a("div",{staticClass:"container"},[a("router-view")],1)],1)},n=[],r={render:s,staticRenderFns:n};e.a=r},kIy4:function(t,e,a){"use strict";e.a={data:function(){return{navItems:[{displayName:"Home",uri:"/"},{displayName:"Admin",uri:"/admin",admin:!0}]}},methods:{logOut:function(t){this.$http.logOut()}}}},kJ1h:function(t,e,a){"use strict";function s(t){a("j2gz")}var n=a("OoMl"),r=a("6wMu"),i=a("VU/8"),o=s,u=i(n.a,r.a,!1,o,"data-v-29aa7623",null);e.a=u.exports},lMps:function(t,e,a){"use strict";var s=a("woOf"),n=a.n(s);e.a={data:function(){return{id:"",originalData:{_id:"",username:"",admin:"",verified:""},newData:{_id:"",username:"",admin:"",verified:""}}},beforeCreate:function(){var t=this;this.id=this.$route.params.id;var e="user?_id="+this.id;this.$http.get(e).then(function(e){var a=e.data;n()(t.originalData,a),n()(t.newData,a)}).catch(function(t){console.error(t)})},methods:{verifyUser:function(t){var e=this,a="verify-user?id="+this.originalData._id;this.newData.verified=!0,this.$http.post(a,this.newData).then(function(t){console.log(t);var a=t.data;n()(e.originalData,a),n()(e.newData,a)}).catch(function(t){console.error(t)})},updateUser:function(t){var e=this,a="users?^"+this.id+"$";this.$http.patch(a,this.newData).then(function(t){var a=t.data;n()(e.originalData,a),n()(e.newData,a)}).catch(function(t){console.error(t)})},deleteUser:function(t){var e=this,a="users?_id="+this.id;this.$http.delete(a).then(function(t){e.$http.redirectToHome()}).catch(function(t){console.error(t)})}}}},lO7g:function(t,e,a){"use strict";function s(t){a("HVLY")}var n=a("Fs8J"),r=a("s895"),i=a("VU/8"),o=s,u=i(n.a,r.a,!1,o,"data-v-0e73a2a8",null);e.a=u.exports},oMO9:function(t,e,a){"use strict";function s(t){a("QTFw")}var n=a("C8us"),r=a("8Tw+"),i=a("VU/8"),o=s,u=i(n.a,r.a,!1,o,"data-v-79f74c3e",null);e.a=u.exports},p1vQ:function(t,e,a){"use strict";function s(t){a("vBWV")}var n=a("issJ"),r=a("LIKK"),i=a("VU/8"),o=s,u=i(n.a,r.a,!1,o,"data-v-d5a8388a",null);e.a=u.exports},pZlX:function(t,e,a){"use strict";function s(t){a("z7Mm")}var n=a("D4RC"),r=a("53Hq"),i=a("VU/8"),o=s,u=i(n.a,r.a,!1,o,null,null);e.a=u.exports},pgXI:function(t,e,a){"use strict";var s=a("//Fk"),n=a.n(s),r=a("Zrlr"),i=a.n(r),o=a("wxAW"),u=a.n(o),c=a("mtWM"),l=a.n(c),d=a("Cwk8"),v=function(){function t(e){i()(this,t),this.http=this._createHTTP()}return u()(t,[{key:"_createHTTP",value:function(){var t=l.a.create({baseURL:"http://reception-bot.wearebarbarian.com:8080"});return t._get=t.get,t._post=t.post,t._patch=t.patch,t._delete=t.delete,t}},{key:"_getHeaders",value:function(){var t=d.a.readCookie("JWT");return t&&(t="Bearer "+t),{Authorization:t}}},{key:"get",value:function(t){var e=this,a=this._getHeaders();return new n.a(function(s,n){e.http._get(t,{headers:a}).then(function(t){var a=t.data;void 0!==a&&!1===a.loggedIn&&e.logOut(a.message),s(t)}).catch(function(t){n(t)})})}},{key:"post",value:function(t,e){var a=this,s=this._getHeaders();return new n.a(function(n,r){a.http._post(t,e,{headers:s}).then(function(t){var e=t.data;void 0!==e&&!1===e.loggedIn&&a.logOut(),n(t)}).catch(function(t){r(t)})})}},{key:"patch",value:function(t,e){var a=this,s=this._getHeaders();return new n.a(function(n,r){a.http._patch(t,e,{headers:s}).then(function(t){var e=t.data;void 0!==e&&!1===e.loggedIn&&a.logOut(),n(t)}).catch(function(t){r(t)})})}},{key:"delete",value:function(t){var e=this,a=this._getHeaders();return new n.a(function(s,n){e.http._delete(t,{headers:a}).then(function(t){var a=t.data;void 0!==a&&!1===a.loggedIn&&e.logOut(),s(t)}).catch(function(t){n(t)})})}},{key:"signUp",value:function(t){var e=this;this.http.post("signup",t).then(function(t){var a=t.data;e.redirectToSignIn(a.message)}).catch(function(t){return t})}},{key:"logIn",value:function(t){var e=this;return new n.a(function(a,s){e.http.post("login",t).then(function(t){var s=t.data;s.loggedIn&&(d.a.createCookie("JWT",s.token,s.expiresIn),e.redirectToHome()),a(s.message)}).catch(function(t){a(t)})})}},{key:"logOut",value:function(t){var e=this;this.http.get("logout").then(function(a){d.a.eraseCookie("JWT"),e.redirectToSignInHelper(t)})}},{key:"isUnAuth",value:function(t){return t.indexOf("unauth")>=0}},{key:"redirectToSignInHelper",value:function(t){this.isUnAuth(location.href)||this.redirectToSignIn(t)}},{key:"redirectToSignIn",value:function(t){var e="";t&&(e="?error="+t),this.logOut(),location.href=location.origin+"/unauth/signin"+e}},{key:"redirectToHome",value:function(t){var e="";t&&(e="?error="+t),location.href=location.origin+e}}]),t}();e.a=v},s895:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"user-search-container"},[a("form",{attrs:{action:"#"}},[a("label",{attrs:{for:"user-search-input"}},[t._v("Search for users:")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.searchInput,expression:"searchInput"}],attrs:{id:"user-search-input",type:"text",autocomplete:"off"},domProps:{value:t.searchInput},on:{input:function(e){e.target.composing||(t.searchInput=e.target.value)}}}),t._v(" "),a("router-link",{attrs:{to:"/all-users"}},[t._v("See all users")])],1),t._v(" "),a("user-list",{attrs:{users:t.users}})],1)},n=[],r={render:s,staticRenderFns:n};e.a=r},"v+Ra":function(t,e){t.exports={created:function(){var t=this;this.$http.isUnAuth(location.pathname)||this.state.loggedIn||this.$http.get("authstatus").then(function(e){var a=e.data;a.loggedIn?(t.$root.setLoggedIn(a.loggedIn),a.admin&&t.$root.setAdmin(a.admin)):t.$http.redirectToSignIn()})}}},vBWV:function(t,e){},wV8L:function(t,e,a){"use strict";e.a={props:["teams"],data:function(){return{statusMessage:""}},methods:{loadFromSlack:function(){var t=this,e=this.getLoadIds();this.$http.post("update-db-from-slack",e).then(function(e){console.log(e),setTimeout(function(){t.statusMessage=""},3e3),200===e.status?t.statusMessage="Slack DB Updated Successfully.":t.statusMessage="There was an error updating the DB from Slack. Please check the logs."})},toggleChannels:function(t){var e=t.target.parentElement.querySelector(".team-channel-list");e.offsetHeight?this.hideChannels(e):this.showChannels(e)},showChannels:function(t){t.classList.remove("hidden"),t.style.height="auto",t.classList.add("no-animate");var e=t.offsetHeight;t.style.height=0,t.classList.remove("no-animate"),setTimeout(function(){t.style.height=e+"px"},0)},hideChannels:function(t){t.classList.add("hidden"),t.style.height=0},onTeamChecked:function(t){var e=t.target.value,a=this.findTeamById(e);a.checked=!a.checked},onChannelChecked:function(t){var e=t.target.dataset.teamId,a=t.target.value,s=this.findChannelById(e,a);s.checked=!s.checked},getLoadIds:function(){var t=[];return this.teams.forEach(function(e){var a={teamId:e.id};if(e.checked||(a.channelIds=[],e.channels.forEach(function(t){t.checked&&a.channelIds.push(t.id)})),e.checked||0!==a.channelIds.length)return t.push(a)}),t},findTeamById:function(t){return this.teams.find(function(e){return e.id===t})},findChannelById:function(t,e){return this.findTeamById(t).channels.find(function(t){return t.id===e})}}}},xJD8:function(t,e,a){"use strict";var s=a("2Se8");e.a={name:"app",components:{Navigation:s.a}}},z7Mm:function(t,e){},zOUs:function(t,e,a){"use strict";function s(t){a("aH/O")}var n=a("cLU6"),r=a.n(n),i=a("ShqD"),o=a("VU/8"),u=s,c=o(r.a,i.a,!1,u,"data-v-520f11f4",null);e.default=c.exports},zhr4:function(t,e){},zmkN:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.7a3bfbfe4632fd557d6d.js.map
